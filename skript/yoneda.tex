\section[Das Yoneda-Lemma]{Das Yoneda-Lemma \hfill \small Justin Gassner}

\emph{Werbung:} Wir werden das fundamentale Yoneda-Lemma und seine Korollare
verstehen. Dazu werden wir zunächst eine hilfreiche Intuition von sog. Prägarben auf
Kategorien entwickeln und verstehen, welche Signifikanz die Darstellbarkeit von
Prägarben hat. Dann können wir die Yoneda-Einbettung kennenlernen, ihre
Eigenschaften studieren und sehen, wozu sie nützlich ist. Das fundamentale
Motto der Kategorientheorie wird damit zu einem formalen Theorem.

Stellen wir uns vor, wir würden die reellen Zahlen noch nicht kennen. Dann
wären die rationalen Zahlen das Maß der Dinge. Mit diesen können
wir gut rechnen -- bei genauerer Betrachtung stellen wir aber fest, dass der
rationale Zahlenstrahl viele Lücken enthält. Obwohl wir diese Lücken per
definitionem nicht im rationalen Zahlenstrahl auffinden können, können wir sie
doch mithilfe rationaler Zahlen beschreiben -- und zwar, indem wir ihre
\emph{Beziehungen} zu rationalen Zahlen angeben. Etwa erwarten wir
von einer Zahl, die den Namen~"`$\sqrt{2}$"' verdient haben soll, die Beziehungen
\[ q \leq \sqrt{2} \quad:\Longleftrightarrow\quad
  \text{$q \leq 0$ oder $q^2 \leq 2$} \]
für alle~$q \in \QQ$. In diesem Sinn ist~$\sqrt{2}$ eine \emph{ideelle Zahl},
die aus ihren Beziehungen zu den tatsächlichen rationalen Zahlen lebt.

Mit solchen ideellen Zahlen können wir auch rechnen. Sind etwa~$x$ und~$y$
ideelle Zahlen, können wir das Infimum von~$x$ und~$y$ über die Forderung
\[ q \leq \inf\{x,y\} \quad:\Longleftrightarrow\quad
  \text{$q \leq x$ und $q \leq y$} \]
für alle~$q \in \QQ$ definieren. Die rationalen Zahlen kann man also
durch Betrachtung ideeller Zahlen vervollständigen. Wenn wir die Menge der
ideellen Zahlen mit~"`$\RR$"' bezeichnen, können wir manche Aspekte dieser
Vervollständigung wie folgt zusammenfassen: Es gibt eine monotone
Abbildung
\[ \QQ \lhra \RR, \]
welche zudem injektiv ist und Infima erhält. Sie ist weit entfernt davon,
surjektiv zu sein. Diese Vorstellung der Vervollständigung mittels ideeller
Objekte wollen wir im folgenden Abschnitt für Objekte von Kategorien
entwickeln.


\subsection{Prägarben als ideelle Objekte}

Sei~$\C$ eine lokal kleine Kategorie.

\begin{defn}Funktoren~$\C^\op \to \Set$ heißen auch \emph{Prägarben
auf~$\C$}. Die Kategorie der Prägarben auf~$\C$ (mit natürlichen
Transformationen als Morphismen) ist~$\widehat\C := \Funct(\C^\op,\Set)$.
\end{defn}

% Bsp.: Hom(__, X), kodiert die Beziehungen aller Objekte von C zu X.

\begin{defn}Eine Prägarbe~$F:\C^\op\to\Set$ auf~$\C$ heißt genau dann
\emph{darstellbar}, wenn es ein Objekt~$X \in \Ob\C$ mit $F \cong
\Hom_\C(\freist,X)$ gibt.\end{defn}

\begin{motto}\label{praegarbeideell}%
Eine beliebige (nicht unbedingt darstellbare) Prägarbe~$F$
auf~$\C$ beschreibt die Beziehungen aller Objekte~$A$ von~$\C$ mit einem
imaginären, fiktiven, eingebildeten, ideellen Objekt~$\heartsuit$: Wir stellen uns die
Menge~$F(A)$ als Menge der Morphismen~$A \to \heartsuit$ vor.\end{motto}

Unter dieser Sichtweise beschreiben darstellbare Prägarben die Beziehungen mit
einem tatsächlich in~$\C$ existenten Objekt. Die
Prägarbenkategorie~$\widehat\C$ enthält stets mindestens eine
nicht-darstellbare Prägarbe:
\begin{prop}Die initiale Prägarbe ist nicht darstellbar.\end{prop}
\begin{proof}Gemeint ist das initiale Objekt~$0$ in der Prägarbenkategorie,
explizit durch
\[ \begin{array}{@{}rrcl@{}}
  0 : & \C^\op &\longrightarrow& \Set \\
  & A &\longmapsto& \emptyset \\
  & f &\longmapsto& \id_\emptyset
\end{array} \]
gegeben. Wäre~$0 \cong \Hom_\C(\freist,X)$ für ein Objekt~$X\in\Ob\C$,
so folgte~$\Hom_\C(X,X) \cong 0(X) = \emptyset$ im Widerspruch zu
$\id_X \in \Hom_\C(X,X)$.\end{proof}


\subsection{Partielle Beziehungsinformationen}

Um ein besseres Gefühl dafür zu entwickeln, wie viel Information in
darstellbaren Prägarben~$\Hom_\C(\freist,X)$ kodiert ist, wollen wir
konkrete Beispiele betrachten.


\subsubsection*{\ldots bei Mengen}

Sei~$X$ eine Menge, also ein Objekt von~$\Set$. Als Menge ohne besondere
Zusatzstruktur kennt man~$X$ offensichtlich schon dann, wenn man seine Elemente
kennt. Diese stehen in natürlicher Bijektion zu Abbildungen~$1 \to X$, wobei~$1
:= \{ \star \}$ ein terminales Objekt der Kategorie~$\Set$ bezeichnet: Denn zu
jedem Element~$x \in X$ gibt es die Abbildung
\[ 1 \longrightarrow X,\ \star \longmapsto x, \]
und umgekehrt spezifiziert jede solche Abbildung~$f$ ein Element~$f(\star) \in X$.
Die Beziehungen der speziellen Menge~$1$ zu~$X$ genügen also schon, um~$X$ zu
beschreiben;~$\widehat X(1)$ legt~$X$ fest.


\subsubsection*{\ldots bei Gruppen}

Sei~$G$ eine Gruppe, also ein Objekt von~$\Grp$. In Analogie zum
Mengenfall kann man fragen, welche Information in der Menge~$\widehat G(1)$
kodiert sind. Dabei bezeichnet~"`$1$"' jetzt ein terminales Objekt von~$\Grp$,
etwa obige Menge~$1$ versehen mit der einzig möglichen Gruppenstruktur. Da aber
Gruppenhomomorphismen das neutrale Element bewahren müssen, gibt es nur einen
einzigen Morphismus~$1 \to G$ in~$\Grp$ -- der, der das neutrale Element von~$1$ auf das
neutrale Element von~$G$ schickt. Die Menge solcher Morphismen legt~$G$ also überhaupt
noch nicht fest.

Mehr Informationen stecken in den Beziehungen der Gruppe~$\ZZ$ zu~$G$, also in
den Elementen von~$\widehat G(\ZZ)$. Denn die Gruppenhomomorphismen~$\ZZ \to G$
stehen in natürlicher Bijektion zu den Elementen von~$G$, da man einen solchen
Homomorphismus durch Vorgabe des Bilds eines der beiden Erzeuger von~$\ZZ$
schon eindeutig festlegen kann. Somit kodiert~$\widehat G(\ZZ)$ also zumindest
die Information über die Elemente von~$G$.

Partielle Information über die Gruppenstruktur kann man etwa durch Betrachtung
von~$\widehat G(\ZZ/(n))$ erhalten: Gruppenhomomorphismen~$\ZZ/(n) \to G$
stehen nämlich in natürlicher Bijektion zu denjenigen Gruppenelementen, deren
Ordnung~$n$ teilt.


\subsubsection*{\ldots bei topologischen Räumen}

Sei~$X$ ein topologischer Raum oder ein strukturierteres geometrisches
Objekt, wie etwa eine Mannigfaltigkeit oder ein Schema. Dann lassen sich die Elemente
von~$\widehat X(A)$ besonders anschaulich darstellen, denn das Bild eines
Morphismus~$A \to X$ sieht wie eine "`deformierte Version"' von~$A$ aus.

Ist etwa~$I = [0,1]$ das reelle Einheitsintervall, so beschreiben Morphismen~$I
\to X$ einfach Kurven in~$X$. Geschlossene Schleifen lassen sich ähnlich
verstehen: Sie sind Morphismen~$S^1 \to X$, wobei~$S^1$ die Einheitskreislinie
bezeichnet.

Die Punkte von~$X$ stehen in kanonischer Bijektion zu den Elementen
von~$\widehat X(1)$, wobei~$1$ den terminalen topologischen Raum bestehend aus
genau einem Punkt bezeichnet. Zwischen~$1$ und~$I$ bestehen die beiden
(langweiligen) stetigen Abbildungen
\begin{align*}
  1 \longrightarrow I,\ \star \longmapsto 0, \\
  1 \longrightarrow I,\ \star \longmapsto 1.
\end{align*}
Interessant ist allerdings, welche Abbildungen~$\widehat X(I) \to \widehat X(1)$
sie induzieren: Nämlich die Abbildungen, die jeder Kurve ihren Anfangs- bzw.
Endpunkt zuordnet. Auf diese Weise erhält man also partielle Information über
die Topologie von~$X$; beispielsweise genügt die Kenntnis dieser Abbildungen,
um herauszufinden, ob~$X$ wegzusammenhängend ist.

% kann man was zu simplizialen Mengen sagen?

\begin{bem}In der algebraischen Geometrie hat der Funktor~$\widehat X =
\Hom(\freist,X)$, wenn~$X$ ein in der algebraischen Geometrie untersuchten
Raum ist (wie etwa ein Schema oder ein Stack), einen besonderen Namen: Er heißt
\emph{Punktefunktor von~$X$}. Oft wird in modernen Zugängen auf diese Funktoren
die Betonung gelegt, denn im Sinne Yonedas genügen sie, um~$X$
festzulegen, und sind oftmals einfacher zu verstehen als explizite
Beschreibungen der inneren Struktur von~$X$. Etwa benötigt man zur expliziten
Konstruktion des~$n$-dimensionalen projektiven Raums entweder die sog.
Proj-Konstruktion oder Verklebekünste und affine Überdeckunsschemata, der
Punktefunktor kann aber ganz leicht beschrieben werden:
\[ \Hom(A, \PP^n) \cong \text{Rang-1-Quotienten von~$\O_A^{n+1}$ modulo
Isomorphie}. \]
\end{bem}


\subsection{Die Yoneda-Einbettung}

Jedes Objekt~$X$ kann man durch Übergang zur darstellbaren
Prägarbe~$\Hom_\C(\freist,X)$ auch als ideelles Objekt betrachten. Diese
Zuordnung kann man zu einem Funktor~$\C \to \widehat\C$ ausdehnen:
Der volle Hom-Funktor geht von~$\C^\op \times \C$ zu~$\Set$. Aus diesem kann
man durch Curryfizierung einen Funktor~$\C \to \Funct(\C^\op,\Set) = \widehat\C$ basteln,
\[ \begin{array}{@{}rrcl@{}}
  Y : & \C &\longrightarrow& \widehat\C \\
  & X &\longmapsto& \Hom_\C(\freist,X) =: \widehat X \\
  & f &\longmapsto& \widehat f,
\end{array} \]
wobei die Komponenten der natürlichen Transformation~$\widehat f$ durch
Nachkomponieren mit~$f$ wirken:
\[ \begin{array}{@{}rrcl@{}}
  (\widehat f)_A : & \Hom_\C(A,X) &\longrightarrow& \Hom_\C(A,Y) \\
  & g &\longmapsto& f \circ g
\end{array} \]

\begin{defn}Der Funktor~$Y:\C\to\widehat\C$ heißt \emph{Yoneda-Einbettung}
von~$\C$.\end{defn}

Die Yoneda-Einbettung hat viele gute Eigenschaften, etwa\ldots
\begin{enumerate}
\item ist sie treu und voll,
\item erhält Limiten (aber kaum Kolimiten) und
\item ist dicht.
\end{enumerate}
Vermöge der ersten Eigenschaft können wir daher~$\C$ als volle Unterkategorie
der Kategorie der ideellen Objekte ansehen. Im Bild der Vervollständigung der
rationalen Zahlen lautet die analoge Aussage, dass die Inklusion~$\QQ \to \RR$
tatsächlich injektiv ist. Der Beweis ist eine einfache
Anwendung des noch folgenden Yoneda-Lemmas.

Eigenschaft~b) drückt aus, dass Limesbildung verträglich mit dem Übergang von
tat\-säch\-li\-chen Objekten von~$\C$ zu ideellen Objekten ist. Analog erhält auch die
Inklusion~$\QQ \to \RR$ Limiten.\footnote{Die eigentlich analoge Aussage wäre,
dass die Inklusion~$\QQ \to \RR$ Infima erhält. Aber die andere Formulierung
ist griffiger.}

Die Yoneda-Einbettung ist im Allgemeinen weit entfernt davon, wesentlich
surjektiv zu sein. Konkret haben wir zumindest gesehen, dass die initiale Prägarbe
niemals isomorph zu einem Objekt der Form~$Y(X)$ ist. In Analogie ist die
Inklusion~$\QQ \to \RR$ weit entfernt davon, surjektiv zu sein. Es ist
allerdings jede reelle Zahl Limes rationaler Zahlen -- und so ist es hier auch:
Eigenschaft~c) besagt, dass jede Prägarbe auf kanonische Art und Weise Kolimes
darstellbarer Prägarben ist. Für eine genaue Formulierung siehe Aufgabe~3 von
Übungsblatt~6.

\begin{bem}Vielleicht fühlt man sich wegen der Kontravarianz von Prägarben ein
wenig unwohl. Diese ist leider nicht vermeidbar: Wenn man nicht Prägarben (also
Funktoren~$\C^\op \to \Set$) sondern \emph{Koprägarben} (also Funktoren~$\C \to
\Set$) betrachtet, tritt die Kontravarianz dann beim Einbettungsfunktor auf:
\[ \C^\op \longrightarrow \Funct(\C,\Set),\ X \longmapsto \Hom_\C(X,\freist).  \]
\end{bem}


\subsection{Das Yoneda-Lemma}

Folgendes Lemma ist das zelebrierte Yoneda-Lemma. Es gibt eine sehr konkrete
Antwort auf die Frage, wie Morphismen (natürliche Transformationen) aus
darstellbaren Prägarben heraus aussehen:
% XXX: Geschichte!

\begin{lemma}[Yoneda-Lemma]Es gibt eine in~$X \in \Ob \C$ und~$F \in \Ob \widehat \C$
natürliche Bijektion
\[ \Hom_{\widehat\C}(\Hom_\C(\freist, X), F) \cong F(X). \]
\end{lemma}
\begin{proof}Siehe Aufgabe~1 von Übungsblatt~6. Die Bijektion und ihre
Umkehrabbildung sind durch
\begin{align*}
 \eta &\longmapsto \eta_X(\id_X) \\
 (f \in \widehat X(A) \mapsto F(f)(s))_{A\in\Ob\C} &\longmapsfrom s
\end{align*}
gegeben.\end{proof}
Linke und rechte Seite der Isomorphie können als Auswertungen der Funktoren
\[ \renewcommand{\arraystretch}{1.3}\begin{array}{@{}rl@{}}
  L : \C^\op \times \widehat\C \longrightarrow \Set, &
  (X,F) \longmapsto \Hom_{\widehat\C}(\Hom_\C(\freist,X), F)
  \\
  R : \C^\op \times \widehat\C \longrightarrow \Set, &
  (X,F) \longmapsto F(X)
\end{array} \]
an der Stelle~$(X,F)$ angesehen werden. Bei~$\C^\op \times \widehat\C$ handelt
es sich um die Produktkategorie aus Definition~\ref{productcat}.
Das Prädikat \emph{natürlich} im Yoneda-Lemma bezieht
sich darauf, dass diese beide Funktoren zueinander natürlich isomorph sind.

\begin{bsp}Für eine Prägarbe~$F$ haben wir uns in
Motto~\ref{praegarbeideell} die Menge~$F(A)$ als Menge der Morphismen von~$A$
in ein ideelles Objekt~$\heartsuit$ vorgestellt. Natürlich können wir
nicht~"`$\Hom_\C(A,\heartsuit)$"' schreiben, da~$\heartsuit$ nicht wirklich ein
Objekt von~$\C$ ist; aber in der Prägarbenkategorie gibt es die Morphismenmenge
$\Hom_{\widehat\C}(\widehat A,F)$, und nach dem Yoneda-Lemma ist diese isomorph
zu~$F(A)$. In diesem Sinn gilt also~$\heartsuit = F$ und das Motto ist sogar formal
korrekt.\end{bsp}

\begin{kor}Die Yoneda-Einbettung~$Y$ ist voll und treu.\end{kor}
\begin{proof}
Wir müssen also zeigen, dass für je zwei Objekte~$A,B \in \Ob\C$ die von~$Y$
induzierte Abbildung
\[ \Hom_\C(A,B) \longrightarrow \Hom_{\widehat\C}(\widehat A,\widehat B) \]
bijektiv ist. Dazu beginnen wir bei der rechten Hom-Menge und nutzen das
Yoneda-Lemma für~$F := \widehat B$:
\[ \Hom_{\widehat\C}(\widehat A,\widehat B) \cong \widehat B(A) = \Hom_\C(A,B). \]
Die vom Beweis des Yoneda-Lemmas gelieferte Bijektion (bzw. ihre
Umkehrabbildung) ist gerade die untersuchte Abbildung.
\end{proof}

\begin{kor}Für je zwei Objekte~$A$, $B$ von~$\C$ sind äquivalent:
\[ A \cong B \quad\Longleftrightarrow\quad \widehat A \cong \widehat B. \]
\end{kor}
\begin{proof}Folgt aus der Volltreuheit der Yoneda-Einbettung und der
allgemeinen Übungs\-auf\-ga\-be~1 von Blatt 3.\end{proof}

In der Kategorientheorie wird dieses Korollar sehr häufig verwendet, da man
oftmals die Prägarben~$\widehat A$ besser versteht als die Objekte~$A$ selbst.
Folgendes Beispiel soll das illustrieren:
\begin{bsp}Seien~$A$ und~$B$ Objekte einer Kategorie~$\C$, in der je zwei
Objekte ein Produkt besitzen. Dann haben wir schon in Proposition~\ref{propkomm}
gesehen, dass~$A \times B$ isomorph zu~$B \times A$ ist. Eine Argumentation im
Yoneda-Style geht so:
\begin{align*}
  \Hom_\C(\freist, A \times B) &\cong
  \Hom_\C(\freist, A) \times \Hom_\C(\freist, B) \\
  &\cong \Hom_\C(\freist, B) \times \Hom_\C(\freist, A) \cong
  \Hom_\C(\freist, B \times A), \\[0.5em]
  \omit\rlap{$\stackrel{\text{\tiny Yoneda}}{\Longrightarrow} A \times B \cong B \times A.$}
\end{align*}
Dabei haben wir die Stetigkeit des Hom-Funktors in der zweiten Variable (siehe
Proposition~\ref{homstetig}) und die bekannte Kommutativität des kartesischen
Produkts von Mengen bis auf Isomorphie verwendet.
\end{bsp}

\begin{bem}In der Vollheit der Yoneda-Einbettung sehen wir abermals das Motto
natürlicher Transformationen, gleichmäßig über alle Objekte der Kategorie
definiert zu sein, bestätigt (Motto~\ref{nattrafoglm}): Jede natürliche
Transformation~$\eta : \Hom_\C(\freist,A) \Rightarrow \Hom_\C(\freist,B)$ hat
notwendigerweise die gleichmäßige Form
\[ \eta_X(f) = \varphi \circ f \]
für einen festen Morphismus~$\varphi \in \Hom_\C(A,B)$.\end{bem}


\subsection{Freie Kovervollständigung}

% Benötigt man "lokal klein" bei Funct(C,D)?
